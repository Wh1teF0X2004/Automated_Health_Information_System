{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Owner/Documents/FYP/automated-health-information-system/MDS2_AHIS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/database.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport let AddMedicationComponent = /*#__PURE__*/(() => {\n  class AddMedicationComponent {\n    /**\n     * @constructor The constructor of this component has two dependencies: the DatabaseService and the Router\n     * @param dbService Service used to fetch and manage data from the database\n     * @param router Service used for navigation between components/pages\n     */\n    constructor(dbService, router) {\n      var _this = this;\n      this.dbService = dbService;\n      this.router = router;\n      this.imageUrl = '../assets/images/banner-sample.png';\n      /**\n       * @summary A medication object is created based on the form inputs and is submitted to be stored in the MongoDB database.\n       * @description onSubmit is triggered when the html form is submitted and the medication object is created and sent to the DatabaseService to add it to the MongoDB database.\n      */\n      this.onSubmit = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (form) {\n          let obj = {\n            \"medicine_name\": form.value.medicine_name,\n            \"medication_routeofadmission\": form.value.medication_routeofadmission,\n            \"medication_concentration\": form.value.medication_concentration,\n            \"medication_volume\": form.value.medication_volume\n          };\n          console.log(\"medicine obj:\", obj);\n          _this.dbService.addMedication(obj).subscribe({\n            next: result => {\n              // Successful response\n              _this.router.navigate(['/list-medication']);\n            },\n            error: error => {\n              // Error handling\n              console.error('Error:', error);\n              _this.router.navigate(['/invalid-data']);\n            }\n          });\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }();\n    }\n    static #_ = this.ɵfac = function AddMedicationComponent_Factory(t) {\n      return new (t || AddMedicationComponent)(i0.ɵɵdirectiveInject(i1.DatabaseService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddMedicationComponent,\n      selectors: [[\"app-add-medication\"]],\n      decls: 40,\n      vars: 0,\n      consts: [[1, \"d-flex\", \"justify-content-center\", \"mt-4\"], [1, \"card\", 2, \"width\", \"52rem\", \"margin-bottom\", \"2rem\"], [1, \"card-body\"], [1, \"container\", 2, \"width\", \"70%\"], [1, \"card-title\", \"text-center\"], [1, \"sub-header\", \"text-center\"], [\"id\", \"medicationForm\", \"novalidate\", \"\", \"action\", \"/add-medication\", 1, \"needs-validation\", 3, \"ngSubmit\"], [\"medicationForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"name\", \"medicine_name\", \"placeholder\", \"Enter medication name\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [1, \"invalid-feedback\"], [\"for\", \"medication_routeofadmission\"], [\"name\", \"medication_routeofadmission\", \"placeholder\", \"Enter medication route of admission\", \"ngModel\", \"\", 1, \"form-control\"], [\"for\", \"medication_concentration\"], [\"type\", \"number\", \"name\", \"medication_concentration\", \"placeholder\", \"Enter medication concentration\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"medication_volume\"], [\"type\", \"number\", \"name\", \"medication_volume\", \"placeholder\", \"Enter medication volume\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-4\"], [1, \"bg-dark\", \"text-center\", \"text-white\", \"fixed-bottom\"], [1, \"text-center\", \"p-3\", 2, \"background-color\", \"rgba(0, 0, 0, 0.2)\"], [1, \"text-white\"]],\n      template: function AddMedicationComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h1\", 4);\n          i0.ɵɵtext(5, \"Add/Register Medication\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"h5\", 5);\n          i0.ɵɵtext(7, \"Fill in new medication details & click submit\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(8, \"p\");\n          i0.ɵɵelementStart(9, \"form\", 6, 7);\n          i0.ɵɵlistener(\"ngSubmit\", function AddMedicationComponent_Template_form_ngSubmit_9_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const _r0 = i0.ɵɵreference(10);\n            return i0.ɵɵresetView(ctx.onSubmit(_r0));\n          });\n          i0.ɵɵelementStart(11, \"div\", 8)(12, \"label\", 9);\n          i0.ɵɵtext(13, \"Name:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(14, \"input\", 10);\n          i0.ɵɵelementStart(15, \"div\", 11);\n          i0.ɵɵtext(16, \" Please provide a valid name. \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(17, \"p\");\n          i0.ɵɵelementStart(18, \"div\", 8)(19, \"label\", 12);\n          i0.ɵɵtext(20, \"Route Of Admission:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(21, \"textarea\", 13);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(22, \"p\");\n          i0.ɵɵelementStart(23, \"div\", 8)(24, \"label\", 14);\n          i0.ɵɵtext(25, \"Medication Concentration:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(26, \"input\", 15);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(27, \"p\");\n          i0.ɵɵelementStart(28, \"div\", 8)(29, \"label\", 16);\n          i0.ɵɵtext(30, \"Medication Volume:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(31, \"input\", 17);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(32, \"p\");\n          i0.ɵɵelementStart(33, \"button\", 18);\n          i0.ɵɵtext(34, \"Add Medication\");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(35, \"footer\", 19)(36, \"div\", 20);\n          i0.ɵɵtext(37, \" \\u00A9 2024 Built by: \");\n          i0.ɵɵelementStart(38, \"a\", 21);\n          i0.ɵɵtext(39, \"MDS02\");\n          i0.ɵɵelementEnd()()();\n        }\n      },\n      dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm]\n    });\n  }\n  return AddMedicationComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}