{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Owner/Documents/FYP/automated-health-information-system/MDS2_AHIS/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/database.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport let AddPhysicianComponent = /*#__PURE__*/(() => {\n  class AddPhysicianComponent {\n    /**\n     * The constructor of this component has two dependencies: the DatabaseService and the Router\n     * @param dbService Service used to fetch and manage data from the database\n     * @param router Service used for navigation between components/pages\n     */\n    constructor(dbService, router) {\n      var _this = this;\n      this.dbService = dbService;\n      this.router = router;\n      this.imageUrl = '../assets/images/banner-sample.png';\n      /**\n       * @summary A physician object is created based on the form inputs and is submitted to be stored in the MongoDB database.\n       * @description onSubmit is triggered when the html form is submitted and the physician object is created and sent to the DatabaseService to add it to the MongoDB database.\n      */\n      this.onSubmit = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (form) {\n          let obj = {\n            \"physician_firstName\": form.value.physician_firstName,\n            \"physician_lastName\": form.value.physician_lastName,\n            \"birth_date\": form.value.birth_date,\n            \"department\": form.value.department\n          };\n          console.log(\"physician obj:\", obj);\n          _this.dbService.addPhysician(obj).subscribe({\n            next: result => {\n              // Successful response\n              _this.router.navigate(['/list-physician']);\n            },\n            error: error => {\n              // Error handling\n              console.error('Error:', error);\n              _this.router.navigate(['/invalid-data']);\n            }\n          });\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }();\n    }\n    static #_ = this.ɵfac = function AddPhysicianComponent_Factory(t) {\n      return new (t || AddPhysicianComponent)(i0.ɵɵdirectiveInject(i1.DatabaseService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddPhysicianComponent,\n      selectors: [[\"app-add-physician\"]],\n      decls: 42,\n      vars: 0,\n      consts: [[1, \"d-flex\", \"justify-content-center\", \"mt-4\"], [1, \"card\", 2, \"width\", \"52rem\", \"margin-bottom\", \"2rem\"], [1, \"card-body\"], [1, \"container\", 2, \"width\", \"70%\"], [1, \"card-title\", \"text-center\"], [1, \"sub-header\", \"text-center\"], [\"id\", \"physicianForm\", \"novalidate\", \"\", \"action\", \"/add-physician\", 1, \"needs-validation\", 3, \"ngSubmit\"], [\"physicianForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"physician_firstName\"], [\"type\", \"text\", \"name\", \"physician_firstName\", \"placeholder\", \"Enter first name\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [1, \"invalid-feedback\"], [\"for\", \"physician_lastName\"], [\"type\", \"text\", \"name\", \"physician_lastName\", \"placeholder\", \"Enter last name\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"birth_date\"], [\"type\", \"date\", \"name\", \"birth_date\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"department\"], [\"name\", \"department\", \"placeholder\", \"Enter assigned working department\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-4\"], [1, \"bg-dark\", \"text-center\", \"text-white\"], [1, \"text-center\", \"p-3\", 2, \"background-color\", \"rgba(0, 0, 0, 0.2)\"], [1, \"text-white\"]],\n      template: function AddPhysicianComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"main\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h1\", 4);\n          i0.ɵɵtext(5, \"Register Physician/Doctor\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"h5\", 5);\n          i0.ɵɵtext(7, \"Fill in the physician/doctor information\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(8, \"p\");\n          i0.ɵɵelementStart(9, \"form\", 6, 7);\n          i0.ɵɵlistener(\"ngSubmit\", function AddPhysicianComponent_Template_form_ngSubmit_9_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const _r0 = i0.ɵɵreference(10);\n            return i0.ɵɵresetView(ctx.onSubmit(_r0));\n          });\n          i0.ɵɵelementStart(11, \"div\", 8)(12, \"label\", 9);\n          i0.ɵɵtext(13, \"First Name:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(14, \"input\", 10);\n          i0.ɵɵelementStart(15, \"div\", 11);\n          i0.ɵɵtext(16, \" Please provide a valid name. \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(17, \"p\");\n          i0.ɵɵelementStart(18, \"div\", 8)(19, \"label\", 12);\n          i0.ɵɵtext(20, \"Last Name:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(21, \"input\", 13);\n          i0.ɵɵelementStart(22, \"div\", 11);\n          i0.ɵɵtext(23, \" Please provide a valid name. \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(24, \"p\");\n          i0.ɵɵelementStart(25, \"div\", 8)(26, \"label\", 14);\n          i0.ɵɵtext(27, \"Birth Date:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(28, \"input\", 15);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(29, \"p\");\n          i0.ɵɵelementStart(30, \"div\", 8)(31, \"label\", 16);\n          i0.ɵɵtext(32, \"Assigned Working Department:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(33, \"textarea\", 17);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(34, \"p\");\n          i0.ɵɵelementStart(35, \"button\", 18);\n          i0.ɵɵtext(36, \"Register Physician/Doctor\");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(37, \"footer\", 19)(38, \"div\", 20);\n          i0.ɵɵtext(39, \" \\u00A9 2024 Built by: \");\n          i0.ɵɵelementStart(40, \"a\", 21);\n          i0.ɵɵtext(41, \"MDS02\");\n          i0.ɵɵelementEnd()()();\n        }\n      },\n      dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm]\n    });\n  }\n  return AddPhysicianComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}