{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/database.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/forms\";\nexport let AddPatientComponent = /*#__PURE__*/(() => {\n  class AddPatientComponent {\n    /**\n     * The constructor of this component has two dependencies: the DatabaseService and the Router\n     * @param dbService Service used to fetch and manage data from the database\n     * @param router Service used for navigation between components/pages\n     */\n    constructor(dbService, router, http) {\n      this.dbService = dbService;\n      this.router = router;\n      this.http = http;\n      // Generate new patient object\n      this.patient = {\n        firstName: \"\",\n        lastName: \"\",\n        birthDate: \"\",\n        gender: \"\",\n        nationality: \"\",\n        maritalStatus: \"\",\n        streetAddress: \"\",\n        city: \"\",\n        state: \"\",\n        postalCode: \"\",\n        email: \"\",\n        tel: \"\",\n        emgcyFName: \"\",\n        emgcyLName: \"\",\n        emgcyRelationship: \"\",\n        emgcyTel: \"\"\n      };\n      this.selectedFile = null;\n    }\n    /**\n     * @function addPatient function passes patient object to the service to be sent to the server via a post request.\n     * @summary A patient object is created based on the form inputs and is submitted to be stored in the MongoDB database.\n     * @description onSubmit is triggered when the html form is submitted and the patient object is created and sent to the DatabaseService to add it to the MongoDB database.\n    */\n    addPatient() {\n      this.dbService.insertPatient(this.patient).subscribe({\n        // uses the router service to redirect the client to another component. \n        // In other words, replace the current component with another one.\n        next: result => {\n          this.router.navigate([\"/list-patients\"]);\n        },\n        error: error => {\n          console.log('Error:', error);\n          this.router.navigate([\"/invalid-data\"]);\n        }\n      });\n    }\n    onFileSelected(event) {\n      console.log(event);\n      this.selectedFile = event.target.files[0];\n      console.log(\"selectedFile\", this.selectedFile);\n    }\n    onUpload() {\n      // Check if a file is selected\n      if (this.selectedFile) {\n        const formData = new FormData();\n        formData.append('file', this.selectedFile);\n        console.log(formData);\n        this.http.post('http://localhost:8080/file', formData).subscribe({\n          next: result => {\n            console.log('result:', result);\n            //this.router.navigate([\"/list-patients\"])\n          },\n\n          error: error => {\n            console.log('Error:', error);\n            //this.router.navigate([\"/invalid-data\"])\n          }\n        });\n      } else {\n        console.error(\"No file selected\");\n      }\n    }\n    static #_ = this.ɵfac = function AddPatientComponent_Factory(t) {\n      return new (t || AddPatientComponent)(i0.ɵɵdirectiveInject(i1.DatabaseService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.HttpClient));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddPatientComponent,\n      selectors: [[\"app-add-patient\"]],\n      decls: 132,\n      vars: 18,\n      consts: [[1, \"row\", \"justify-content-center\"], [1, \"card\", 2, \"width\", \"1000px\", \"margin-bottom\", \"2rem\"], [1, \"container\", 2, \"width\", \"95%\"], [\"align\", \"center\"], [1, \"row\"], [\"for\", \"name\", 1, \"form-label\"], [1, \"col-md-6\", \"mb-4\", \"pb-2\"], [\"data-mdb-input-init\", \"\", 1, \"form-outline\"], [\"type\", \"text\", \"name\", \"patientFirstName\", \"placeholder\", \"Enter first name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"patientLastName\", \"placeholder\", \"Enter last name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"birthDate\", 1, \"form-label\"], [\"type\", \"date\", \"name\", \"patientDob\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"gender\", 1, \"form-label\"], [1, \"form-check\", \"form-check-inline\"], [\"type\", \"radio\", \"name\", \"inlineRadioOptions\", \"id\", \"inlineRadio1\", \"value\", \"Female\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"inlineRadio1\", 1, \"form-check-label\"], [\"type\", \"radio\", \"name\", \"inlineRadioOptions\", \"id\", \"inlineRadio2\", \"value\", \"Male\", 1, \"form-check-input\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"inlineRadio2\", 1, \"form-check-label\"], [\"type\", \"text\", \"name\", \"patientNationality\", \"placeholder\", \"Enter nationality\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"patientID\", \"placeholder\", \"Enter Identification Number \", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"mb-3\"], [\"for\", \"floatingSelect\"], [\"id\", \"floatingSelect\", \"aria-label\", \"Floating label select example\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"selected\", \"\"], [\"value\", \"Single\"], [\"value\", \"Married\"], [\"value\", \"Divorced\"], [\"value\", \"Widowed\"], [\"type\", \"text\", \"name\", \"patientTel\", \"placeholder\", \"Example: 0123456789\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"patientEmail\", \"placeholder\", \"myname@example.com\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"patientStreetAddress\", \"placeholder\", \"Enter Street Address\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"patientCity\", \"placeholder\", \"Enter City\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"patientState\", \"placeholder\", \"Enter State \", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"patientAge\", \"placeholder\", \"Enter postal/zip code\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"emergencyFirstName\", \"placeholder\", \"Enter first name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"emergencyLastName\", \"placeholder\", \"Enter last name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"emergencyRelationship\", \"placeholder\", \"Enter Relationship\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"emergencyTel\", \"placeholder\", \"Example: 0123456789\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"formFile\", 1, \"form-label\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [\"type\", \"file\", \"id\", \"formFile\", 1, \"form-control\", 3, \"change\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"bg-dark\", \"text-center\", \"text-white\"], [1, \"text-center\", \"p-3\", 2, \"background-color\", \"rgba(0, 0, 0, 0.2)\"], [1, \"text-white\"]],\n      template: function AddPatientComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\", 3);\n          i0.ɵɵtext(4, \"\\u00A0\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"h1\", 3);\n          i0.ɵɵtext(6, \"Patient Registration Form\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"p\", 3);\n          i0.ɵɵtext(8, \"Fill in the Patient details and Click Submit to register a new patient.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"p\", 3);\n          i0.ɵɵtext(10, \"\\u00A0\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"main\")(12, \"div\", 4)(13, \"label\", 5);\n          i0.ɵɵtext(14, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"div\", 6)(16, \"div\", 7)(17, \"input\", 8);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_17_listener($event) {\n            return ctx.patient.firstName = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(18, \"div\", 6)(19, \"div\", 7)(20, \"input\", 9);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_20_listener($event) {\n            return ctx.patient.lastName = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(21, \"div\", 6)(22, \"div\", 7)(23, \"label\", 10);\n          i0.ɵɵtext(24, \"Date of Birth\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"input\", 11);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_25_listener($event) {\n            return ctx.patient.birthDate = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(26, \"div\", 6)(27, \"div\", 7)(28, \"label\", 12);\n          i0.ɵɵtext(29, \"Gender \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"div\")(31, \"div\", 13)(32, \"input\", 14);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_32_listener($event) {\n            return ctx.patient.gender = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"label\", 15);\n          i0.ɵɵtext(34, \"Female\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(35, \"div\", 13)(36, \"input\", 16);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_36_listener($event) {\n            return ctx.patient.gender = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"label\", 17);\n          i0.ɵɵtext(38, \"Male\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(39, \"div\", 6)(40, \"div\", 7)(41, \"label\", 5);\n          i0.ɵɵtext(42, \"Nationality\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(43, \"input\", 18);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_43_listener($event) {\n            return ctx.patient.nationality = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(44, \"div\", 6)(45, \"div\", 7)(46, \"label\", 5);\n          i0.ɵɵtext(47, \"Identification Number (IC)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(48, \"input\", 19);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_48_listener($event) {\n            return ctx.patient.identificationNum = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(49, \"div\", 20)(50, \"label\", 21);\n          i0.ɵɵtext(51, \"Marital Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(52, \"select\", 22);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_select_ngModelChange_52_listener($event) {\n            return ctx.patient.maritalStatus = $event;\n          });\n          i0.ɵɵelementStart(53, \"option\", 23);\n          i0.ɵɵtext(54, \"Please Select\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(55, \"option\", 24);\n          i0.ɵɵtext(56, \"Single\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(57, \"option\", 25);\n          i0.ɵɵtext(58, \"Married\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(59, \"option\", 26);\n          i0.ɵɵtext(60, \"Divorced\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(61, \"option\", 27);\n          i0.ɵɵtext(62, \"Widowed\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(63, \"div\", 4)(64, \"div\", 6)(65, \"div\", 7)(66, \"label\", 5);\n          i0.ɵɵtext(67, \"Contact Number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(68, \"input\", 28);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_68_listener($event) {\n            return ctx.patient.tel = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(69, \"div\", 6)(70, \"div\", 7)(71, \"label\", 5);\n          i0.ɵɵtext(72, \"E-mail\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(73, \"input\", 29);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_73_listener($event) {\n            return ctx.patient.email = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(74, \"div\", 20)(75, \"label\", 5);\n          i0.ɵɵtext(76, \"Address:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(77, \"input\", 30);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_77_listener($event) {\n            return ctx.patient.streetAddress = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(78, \"div\", 6)(79, \"div\", 7)(80, \"label\", 5);\n          i0.ɵɵtext(81, \"City\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(82, \"input\", 31);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_82_listener($event) {\n            return ctx.patient.city = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(83, \"div\", 6)(84, \"div\", 7)(85, \"label\", 5);\n          i0.ɵɵtext(86, \"State\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(87, \"input\", 32);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_87_listener($event) {\n            return ctx.patient.state = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(88, \"div\", 20)(89, \"label\", 5);\n          i0.ɵɵtext(90, \"Postal / Zip Code\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(91, \"input\", 33);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_91_listener($event) {\n            return ctx.patient.postalCode = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(92, \"p\", 3);\n          i0.ɵɵtext(93, \"\\u00A0\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(94, \"h4\");\n          i0.ɵɵtext(95, \"Emergency Contact\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(96, \"div\", 4)(97, \"label\", 5);\n          i0.ɵɵtext(98, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(99, \"div\", 6)(100, \"div\", 7)(101, \"input\", 34);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_101_listener($event) {\n            return ctx.patient.emgcyFName = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(102, \"div\", 6)(103, \"div\", 7)(104, \"input\", 35);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_104_listener($event) {\n            return ctx.patient.emgcyLName = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(105, \"div\", 6)(106, \"div\", 7)(107, \"label\", 5);\n          i0.ɵɵtext(108, \"Relation\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(109, \"input\", 36);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_109_listener($event) {\n            return ctx.patient.emgcyRelationship = $event;\n          });\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(110, \"div\", 6)(111, \"div\", 7)(112, \"label\", 5);\n          i0.ɵɵtext(113, \"Contact Number\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(114, \"input\", 37);\n          i0.ɵɵlistener(\"ngModelChange\", function AddPatientComponent_Template_input_ngModelChange_114_listener($event) {\n            return ctx.patient.emgcyTel = $event;\n          });\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelement(115, \"hr\");\n          i0.ɵɵelementStart(116, \"div\")(117, \"div\", 20)(118, \"label\", 38);\n          i0.ɵɵtext(119, \"Upload Form Image for Automated Extraction\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(120, \"div\", 39)(121, \"input\", 40);\n          i0.ɵɵlistener(\"change\", function AddPatientComponent_Template_input_change_121_listener($event) {\n            return ctx.onFileSelected($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(122, \"button\", 41);\n          i0.ɵɵlistener(\"click\", function AddPatientComponent_Template_button_click_122_listener() {\n            return ctx.onUpload();\n          });\n          i0.ɵɵtext(123, \"Upload\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(124, \"button\", 41);\n          i0.ɵɵlistener(\"click\", function AddPatientComponent_Template_button_click_124_listener() {\n            return ctx.addPatient();\n          });\n          i0.ɵɵtext(125, \"Submit\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(126, \"p\");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(127, \"footer\", 42)(128, \"div\", 43);\n          i0.ɵɵtext(129, \" \\u00A9 2024 Built by: \");\n          i0.ɵɵelementStart(130, \"a\", 44);\n          i0.ɵɵtext(131, \"MDS02\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(17);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.firstName);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.lastName);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.birthDate);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.gender);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.gender);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.nationality);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.identificationNum);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.maritalStatus);\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.tel);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.email);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.streetAddress);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.city);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.state);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.postalCode);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.emgcyFName);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.emgcyLName);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.emgcyRelationship);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngModel\", ctx.patient.emgcyTel);\n        }\n      },\n      dependencies: [i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.RadioControlValueAccessor, i4.NgControlStatus, i4.NgModel]\n    });\n  }\n  return AddPatientComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}