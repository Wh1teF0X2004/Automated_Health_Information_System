{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/database.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../../pipes/date-format.pipe\";\nimport * as i5 from \"../../../pipes/date-time-format.pipe\";\nfunction ViewConsultationComponent_tr_124_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"dateFormat\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function ViewConsultationComponent_tr_124_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const diagnosis_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.viewSelectedDiagnosis(diagnosis_r1.diagnosisId));\n    });\n    i0.ɵɵtext(12, \"View\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function ViewConsultationComponent_tr_124_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const diagnosis_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.updateDiagnosis(diagnosis_r1.diagnosisId));\n    });\n    i0.ɵɵtext(15, \"Update\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"td\")(17, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function ViewConsultationComponent_tr_124_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const diagnosis_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.sendDiagnosisId(diagnosis_r1.diagnosisId));\n    });\n    i0.ɵɵtext(18, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const diagnosis_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(diagnosis_r1.diagnosisId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"Dr. \", ctx_r0.aPhysician.physician_firstName, \" \", ctx_r0.aPhysician.physician_lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(diagnosis_r1.diagnosisDescription);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 5, diagnosis_r1.diagnosisDate));\n  }\n}\nexport let ViewConsultationComponent = /*#__PURE__*/(() => {\n  class ViewConsultationComponent {\n    constructor(dbService, router, route) {\n      this.dbService = dbService;\n      this.router = router;\n      this.route = route;\n      this.consultationDB = [];\n      this.consultationId = \"\";\n      this.aConsultation = {};\n      this.physicianDB = [];\n      this.aPhysician = {};\n      this.patientDB = [];\n      this.aPatient = {};\n    }\n    ngOnInit() {\n      this.getConsultationId();\n      this.getConsultationRecord();\n      this.getPatientRecord();\n      this.getPhysicianRecord();\n    }\n    getConsultationId() {\n      this.route.paramMap.subscribe(params => {\n        this.consultationId = params.get('consultationId');\n        console.log(\"Get consultation ID: \", this.consultationId);\n      });\n    }\n    getConsultationRecord() {\n      this.dbService.getConsultations().subscribe(consultationDB => {\n        console.log(\"Get consultation Id record\", this.consultationId);\n        for (let consultation of consultationDB) {\n          if (consultation.consultationId === this.consultationId) {\n            this.aConsultation = consultation;\n            console.log(\"consultation Record\", this.aConsultation);\n          }\n        }\n      });\n    }\n    getPatientRecord() {\n      this.dbService.getPatients().subscribe(patientDB => {\n        console.log(\"Get Patient Id record\", this.aConsultation.patientId);\n        for (let patient of patientDB) {\n          if (patient.patientId === this.aConsultation.patientId) {\n            this.aPatient = patient;\n            console.log(\"Patient Record\", this.aPatient);\n          }\n        }\n      });\n    }\n    getPhysicianRecord() {\n      // Fetch physicians from database and format their names for the dropdown\n      this.dbService.getAllPhysician().subscribe(physicianDB => {\n        for (let dr of physicianDB) {\n          if (dr.physician_id === this.aConsultation.physicianId) {\n            this.aPhysician = dr;\n            console.log(\"physician Record\", this.aPhysician);\n          }\n        }\n      });\n    }\n    AddDiagnosis(consultationId) {\n      this.router.navigate(['/add-diagnosis', consultationId]);\n    }\n    viewSelectedDiagnosis(diagnosisId) {\n      this.router.navigate(['/view-diagnosis', diagnosisId]);\n    }\n    updateDiagnosis(diagnosisId) {\n      console.log(\"Update button submit\");\n      this.router.navigate(['/update-diagnosis', diagnosisId]);\n    }\n    // To able delete by diagnosis Id\n    sendDiagnosisId(diagnosisId) {\n      this.dbService.deleteDiagnosis(diagnosisId).subscribe({\n        next: result => {\n          this.dbService.getConsultations().subscribe(data => {\n            this.consultationDB = data;\n          });\n        },\n        error: error => {\n          this.router.navigate([\"/invalid-data\"]);\n        }\n      });\n    }\n    static #_ = this.ɵfac = function ViewConsultationComponent_Factory(t) {\n      return new (t || ViewConsultationComponent)(i0.ɵɵdirectiveInject(i1.DatabaseService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ViewConsultationComponent,\n      selectors: [[\"app-view-consultation\"]],\n      decls: 130,\n      vars: 21,\n      consts: [[1, \"container\", 2, \"max-width\", \"72rem\", \"margin-bottom\", \"2rem\"], [1, \"text-center\"], [1, \"row\"], [1, \"col-md-6\", 2, \"margin-bottom\", \"2rem\"], [1, \"card\", 2, \"height\", \"100%\", \"padding\", \"1.5rem\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-title\", \"mt-4\"], [1, \"col-md-6\"], [1, \"mb-3\"], [1, \"card\", 2, \"max-width\", \"72rem\", \"padding\", \"1.5rem\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"row\", \"row-cols-1\", \"g-3\"], [1, \"col\"], [1, \"table\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [1, \"bg-dark\", \"text-center\", \"text-white\"], [1, \"text-center\", \"p-3\", 2, \"background-color\", \"rgba(0, 0, 0, 0.2)\"], [1, \"text-white\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n      template: function ViewConsultationComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"main\")(1, \"div\", 0)(2, \"h1\", 1);\n          i0.ɵɵtext(3, \"Consultation Details\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 1)(5, \"p\")(6, \"strong\");\n          i0.ɵɵtext(7, \"Consultation ID:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"p\")(10, \"strong\");\n          i0.ɵɵtext(11, \"Consultation Date, Time:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(12);\n          i0.ɵɵpipe(13, \"dateTimeFormat\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"section\")(15, \"div\", 2)(16, \"div\", 3)(17, \"div\", 4)(18, \"div\", 5)(19, \"h4\", 6)(20, \"strong\");\n          i0.ɵɵtext(21, \"Physician in Charge\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(22, \"hr\");\n          i0.ɵɵelementStart(23, \"p\")(24, \"strong\");\n          i0.ɵɵtext(25, \"Physician ID:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(26);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(27, \"p\")(28, \"strong\");\n          i0.ɵɵtext(29, \"Physician Name:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(30);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"h4\", 7)(32, \"strong\");\n          i0.ɵɵtext(33, \"Patient Information\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(34, \"hr\");\n          i0.ɵɵelementStart(35, \"p\")(36, \"strong\");\n          i0.ɵɵtext(37, \"Patient ID:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(38);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"p\")(40, \"strong\");\n          i0.ɵɵtext(41, \"Patient Name:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(42);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(43, \"div\", 3)(44, \"div\", 4)(45, \"div\", 5)(46, \"h4\", 6)(47, \"strong\");\n          i0.ɵɵtext(48, \"Consultation Examination Details\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(49, \"hr\");\n          i0.ɵɵelementStart(50, \"div\", 2)(51, \"div\", 8)(52, \"p\")(53, \"strong\");\n          i0.ɵɵtext(54, \"General Appearance:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(55);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(56, \"p\")(57, \"strong\");\n          i0.ɵɵtext(58, \"Body Temperature:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(59);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(60, \"p\")(61, \"strong\");\n          i0.ɵɵtext(62, \"Height:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(63);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(64, \"p\")(65, \"strong\");\n          i0.ɵɵtext(66, \"Weight:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(67);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(68, \"div\", 8)(69, \"p\")(70, \"strong\");\n          i0.ɵɵtext(71, \"Blood Pressure:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(72);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(73, \"p\")(74, \"strong\");\n          i0.ɵɵtext(75, \"Breathing Pattern:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(76);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(77, \"p\")(78, \"strong\");\n          i0.ɵɵtext(79, \"Pupil Reflex Condition:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(80);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(81, \"p\")(82, \"strong\");\n          i0.ɵɵtext(83, \"Nerve Reflex Condition:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(84);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(85, \"div\", 9)(86, \"p\")(87, \"strong\");\n          i0.ɵɵtext(88, \"Other:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(89);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(90, \"h4\", 6)(91, \"strong\");\n          i0.ɵɵtext(92, \"Patient Symptoms\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(93, \"hr\");\n          i0.ɵɵelementStart(94, \"div\", 9)(95, \"p\")(96, \"strong\");\n          i0.ɵɵtext(97, \"Symptoms:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(98);\n          i0.ɵɵelementEnd()()()()()()();\n          i0.ɵɵelementStart(99, \"section\")(100, \"div\", 10)(101, \"div\", 11)(102, \"h2\");\n          i0.ɵɵtext(103, \"Diagnosis\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(104, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function ViewConsultationComponent_Template_button_click_104_listener() {\n            return ctx.AddDiagnosis(ctx.aConsultation.consultationId);\n          });\n          i0.ɵɵtext(105, \"Add Diagnosis\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(106, \"div\", 13)(107, \"div\", 14)(108, \"table\", 15)(109, \"thead\")(110, \"tr\")(111, \"th\");\n          i0.ɵɵtext(112, \"ID\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(113, \"th\");\n          i0.ɵɵtext(114, \"Assigned Doctor\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(115, \"th\");\n          i0.ɵɵtext(116, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(117, \"th\");\n          i0.ɵɵtext(118, \"Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(119, \"th\");\n          i0.ɵɵelementStart(120, \"th\");\n          i0.ɵɵtext(121, \"Actions\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(122, \"th\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(123, \"tbody\");\n          i0.ɵɵtemplate(124, ViewConsultationComponent_tr_124_Template, 19, 7, \"tr\", 16);\n          i0.ɵɵelementEnd()()()()()()()();\n          i0.ɵɵelementStart(125, \"footer\", 17)(126, \"div\", 18);\n          i0.ɵɵtext(127, \" \\u00A9 2024 Built by: \");\n          i0.ɵɵelementStart(128, \"a\", 19);\n          i0.ɵɵtext(129, \"MDS02\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aConsultation.consultationId, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(13, 19, ctx.aConsultation.consultationDateTime), \"\");\n          i0.ɵɵadvance(14);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aPhysician.physician_id, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate2(\" Dr. \", ctx.aPhysician.physician_firstName, \" \", ctx.aPhysician.physician_lastName, \"\");\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aPatient.patientId, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate2(\" \", ctx.aPatient.firstName, \" \", ctx.aPatient.lastName, \"\");\n          i0.ɵɵadvance(13);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aConsultation.generalAppearance, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aConsultation.temperature, \"\\u00B0C\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aConsultation.height, \"cm\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aConsultation.weight, \"kg\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aConsultation.bloodPressure, \"mmHg\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aConsultation.breathingPattern, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aConsultation.pupilReflexCondition, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aConsultation.nerveReflexCondition, \"\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aConsultation.other, \"\");\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aConsultation.patientSymptom, \"\");\n          i0.ɵɵadvance(26);\n          i0.ɵɵproperty(\"ngForOf\", ctx.aConsultation.diagnosisList);\n        }\n      },\n      dependencies: [i3.NgForOf, i4.DateFormatPipe, i5.DateTimeFormatPipe]\n    });\n  }\n  return ViewConsultationComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}