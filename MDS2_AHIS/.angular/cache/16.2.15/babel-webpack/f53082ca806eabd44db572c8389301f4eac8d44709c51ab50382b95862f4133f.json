{"ast":null,"code":"import { DateFormatPipe } from 'src/app/pipes/date-format.pipe';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/database.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../../pipes/date-format.pipe\";\nimport * as i5 from \"../../../pipes/calculate-age.pipe\";\nimport * as i6 from \"../../../pipes/date-time-format.pipe\";\nfunction ViewPatientComponent_tr_104_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"dateTimeFormat\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\")(7, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function ViewPatientComponent_tr_104_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const appointment_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.viewSelectedAppointment(appointment_r2.appointment_id));\n    });\n    i0.ɵɵtext(8, \"View\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const appointment_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(appointment_r2.appointment_id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, appointment_r2.appointment_time));\n  }\n}\nfunction ViewPatientComponent_tr_125_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"dateFormat\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function ViewPatientComponent_tr_125_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const diagnosis_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.viewSelectedDiagnosis(diagnosis_r5.diagnosisId));\n    });\n    i0.ɵɵtext(12, \"View\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"td\")(14, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function ViewPatientComponent_tr_125_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const diagnosis_r5 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.sendDiagnosisId(diagnosis_r5.diagnosisId));\n    });\n    i0.ɵɵtext(15, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const diagnosis_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(diagnosis_r5.diagnosisId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(diagnosis_r5.physicianId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(diagnosis_r5.diagnosisDescription);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 4, diagnosis_r5.diagnosisDate));\n  }\n}\nexport let ViewPatientComponent = /*#__PURE__*/(() => {\n  class ViewPatientComponent {\n    /**\n     * The constructor of this component has three dependencies: the DatabaseService, the ActivatedRoute, and the Router\n     * @param dbService Service used to fetch and manage data from the database\n     * @param router Service used for navigation between components/pages\n     * @param route Provides information about the current route in the application\n     */\n    constructor(dbService, router, route) {\n      this.dbService = dbService;\n      this.router = router;\n      this.route = route;\n      // Database\n      this.patientDB = [];\n      // Unique id for patient\n      this.id = \"\";\n      // Patient Object\n      this.aPatient = {};\n    }\n    /**\n     * @function ngOnInit runs when the component is initiated\n     * @description calls various methods to fetch patient records\n     */\n    ngOnInit() {\n      this.getIdPatient();\n      this.getPatientRecord();\n    }\n    /**\n     * @function getIdPatient Retrieves the patientId from the URL route parameters and assigns it to a variable to be used later\n     * @description Retrieves the patientId from the URL route parameters and assigns it to a variable to be used later\n     */\n    getIdPatient() {\n      this.route.paramMap.subscribe(params => {\n        this.id = params.get('patientId');\n        console.log(\"Get Patient ID: \", this.id);\n      });\n    }\n    /**\n     * @function getPatientRecord Fetches all patients from the database using the DatabaseService\n     * @description Fetches all patients from the database using the DatabaseService\n     * @summary It looks for the patient that matches the ID retrieved from the route and save it to a variable to be used later\n     */\n    getPatientRecord() {\n      this.dbService.getPatients().subscribe(patientDB => {\n        console.log(\"Get Patient Id record\", this.id);\n        for (let patient of patientDB) {\n          if (patient.patientId === this.id) {\n            this.aPatient = patient;\n            console.log(\"Patient Record\", this.aPatient);\n            console.log(\" Patient appoinmtment list : \", this.aPatient.appointmentList);\n          }\n        }\n      });\n    }\n    /**\n     * @function viewSelectedAppointment Navigates to the detailed view of a specific appointment by using its appointment_id\n     * @description Navigates to the detailed view of a specific appointment by using its appointment_id\n     * @param appointment_id The unique ID of the selected appointment\n     */\n    viewSelectedAppointment(appointment_id) {\n      this.router.navigate(['/display-appointment', appointment_id]);\n    }\n    /**\n     * @function viewSelectedDiagnosis Navigates to the detailed view of a specific diagnosis by using its diagnosisId\n     * @description Navigates to the detailed view of a specific diagnosis by using its diagnosisId\n     * @param diagnosisId The unique ID of the selected diagnosis\n     */\n    viewSelectedDiagnosis(diagnosisId) {\n      this.router.navigate(['/view-diagnosis', diagnosisId]);\n    }\n    /**\n     * @function sendDiagnosisId Sends a request to delete a diagnosis from the database using the diagnosisId\n     * @description Sends a request to delete a diagnosis from the database using the diagnosisId. After deletion, it fetches the updated patient records to reflect the changes\n     * @param diagnosisId The unique ID of the diagnosis to be deleted\n     */\n    sendDiagnosisId(diagnosisId) {\n      this.dbService.deleteDiagnosis(diagnosisId).subscribe({\n        next: result => {\n          this.dbService.getPatients().subscribe(data => {\n            this.patientDB = data;\n          });\n        },\n        error: error => {\n          this.router.navigate([\"/invalid-data\"]);\n        }\n      });\n    }\n    static #_ = this.ɵfac = function ViewPatientComponent_Factory(t) {\n      return new (t || ViewPatientComponent)(i0.ɵɵdirectiveInject(i1.DatabaseService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ViewPatientComponent,\n      selectors: [[\"app-view-patient\"]],\n      features: [i0.ɵɵProvidersFeature([DateFormatPipe])],\n      decls: 131,\n      vars: 28,\n      consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [1, \"container\", 2, \"width\", \"95%\"], [1, \"text-center\"], [1, \"container\", \"mb-4\"], [1, \"row\"], [1, \"col-md-7\"], [1, \"card\", \"equal-height\", \"mb-3\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"col-md-6\"], [1, \"col-md-5\"], [1, \"table\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [1, \"card\"], [1, \"bg-dark\", \"text-center\", \"text-white\"], [1, \"text-center\", \"p-3\", 2, \"background-color\", \"rgba(0, 0, 0, 0.2)\"], [1, \"text-white\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n      template: function ViewPatientComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n          i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2);\n          i0.ɵɵelementStart(4, \"title\");\n          i0.ɵɵtext(5, \"Patient Details\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"body\")(7, \"main\")(8, \"div\", 3)(9, \"h1\", 4);\n          i0.ɵɵtext(10, \"Patient Details\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"section\", 5)(12, \"div\", 6)(13, \"div\", 7)(14, \"div\", 8)(15, \"div\", 9)(16, \"h4\", 10)(17, \"strong\");\n          i0.ɵɵtext(18, \" Patient Details \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(19, \"div\", 6)(20, \"div\", 11)(21, \"p\")(22, \"strong\");\n          i0.ɵɵtext(23, \"Patient ID:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(24);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"p\")(26, \"strong\");\n          i0.ɵɵtext(27, \"Patient Name :\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(28);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"p\")(30, \"strong\");\n          i0.ɵɵtext(31, \"DOB :\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(32);\n          i0.ɵɵpipe(33, \"dateFormat\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"p\")(35, \"strong\");\n          i0.ɵɵtext(36, \"Age :\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(37);\n          i0.ɵɵpipe(38, \"calculateAge\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"p\")(40, \"strong\");\n          i0.ɵɵtext(41, \"Gender :\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(42);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(43, \"p\")(44, \"strong\");\n          i0.ɵɵtext(45, \"Marital Status:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(46);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(47, \"p\")(48, \"strong\");\n          i0.ɵɵtext(49, \"Nationality:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(50);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(51, \"div\", 11)(52, \"p\")(53, \"strong\");\n          i0.ɵɵtext(54, \"NRIC No:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(55);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(56, \"p\")(57, \"strong\");\n          i0.ɵɵtext(58, \"Home Address:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(59);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(60, \"p\")(61, \"strong\");\n          i0.ɵɵtext(62, \"Email Address:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(63);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(64, \"p\")(65, \"strong\");\n          i0.ɵɵtext(66, \"Tel/Mobile No:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(67);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(68, \"p\")(69, \"strong\");\n          i0.ɵɵtext(70, \"Admission Date:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(71);\n          i0.ɵɵpipe(72, \"dateFormat\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(73, \"hr\");\n          i0.ɵɵelementStart(74, \"h4\", 10)(75, \"strong\");\n          i0.ɵɵtext(76, \" Emergency Contact Details \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(77, \"p\")(78, \"strong\");\n          i0.ɵɵtext(79, \"Name:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(80);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(81, \"p\")(82, \"strong\");\n          i0.ɵɵtext(83, \"Relation:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(84);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(85, \"p\")(86, \"strong\");\n          i0.ɵɵtext(87, \"Tel/Mobile No:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(88);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(89, \"div\", 12)(90, \"div\", 8)(91, \"div\", 9)(92, \"h4\", 10)(93, \"strong\");\n          i0.ɵɵtext(94, \" Appointment History \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(95, \"table\", 13)(96, \"thead\")(97, \"tr\")(98, \"th\");\n          i0.ɵɵtext(99, \"Appointment ID\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(100, \"th\");\n          i0.ɵɵtext(101, \"Appointment Date Time\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(102, \"th\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(103, \"tbody\");\n          i0.ɵɵtemplate(104, ViewPatientComponent_tr_104_Template, 9, 4, \"tr\", 14);\n          i0.ɵɵelementEnd()()()()()()();\n          i0.ɵɵelementStart(105, \"section\", 5)(106, \"div\", 15)(107, \"div\", 9)(108, \"h4\", 10)(109, \"strong\");\n          i0.ɵɵtext(110, \" Diagnosis History \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(111, \"table\", 13)(112, \"thead\")(113, \"tr\")(114, \"th\");\n          i0.ɵɵtext(115, \"Diagnosis ID\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(116, \"th\");\n          i0.ɵɵtext(117, \"Physician ID\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(118, \"th\");\n          i0.ɵɵtext(119, \"Description\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(120, \"th\");\n          i0.ɵɵtext(121, \"Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(122, \"th\")(123, \"th\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(124, \"tbody\");\n          i0.ɵɵtemplate(125, ViewPatientComponent_tr_125_Template, 16, 6, \"tr\", 14);\n          i0.ɵɵelementEnd()()()()()()();\n          i0.ɵɵelementStart(126, \"footer\", 16)(127, \"div\", 17);\n          i0.ɵɵtext(128, \" \\u00A9 2024 Built by: \");\n          i0.ɵɵelementStart(129, \"a\", 18);\n          i0.ɵɵtext(130, \"MDS02\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(24);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aPatient.patientId, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate2(\" \", ctx.aPatient.firstName, \" \", ctx.aPatient.lastName, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(33, 22, ctx.aPatient.birthDate), \"\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(38, 24, ctx.aPatient.birthDate), \"\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aPatient.gender, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aPatient.maritalStatus, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aPatient.nationality, \"\");\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aPatient.identificationNum, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate4(\" \", ctx.aPatient.streetAddress, \", \", ctx.aPatient.postalCode, \" \", ctx.aPatient.city, \", \", ctx.aPatient.state, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aPatient.email, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aPatient.tel, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(72, 26, ctx.aPatient.admitDate), \"\");\n          i0.ɵɵadvance(9);\n          i0.ɵɵtextInterpolate2(\" \", ctx.aPatient.emgcyFName, \" \", ctx.aPatient.emgcyLName, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aPatient.emgcyRelationship, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.aPatient.emgcyTel, \"\");\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"ngForOf\", ctx.aPatient.appointmentList);\n          i0.ɵɵadvance(21);\n          i0.ɵɵproperty(\"ngForOf\", ctx.aPatient.diagnosisList);\n        }\n      },\n      dependencies: [i3.NgForOf, i4.DateFormatPipe, i5.CalculateAgePipe, i6.DateTimeFormatPipe],\n      styles: [\"h1[_ngcontent-%COMP%] {\\n            margin-bottom: 2rem;\\n        }\\n        section[_ngcontent-%COMP%] {\\n            margin-top: 1rem;\\n        }\\n        .row[_ngcontent-%COMP%] {\\n            display: flex;\\n        }\\n        .card[_ngcontent-%COMP%] {\\n            margin-bottom: 1rem;\\n        }\\n        .equal-height[_ngcontent-%COMP%] {\\n            display: flex;\\n            flex-direction: column;\\n            height: 100%;\\n        }\\n        .col-md-7[_ngcontent-%COMP%] {\\n            width: 58.33%; \\n        }\\n        .col-md-5[_ngcontent-%COMP%] {\\n            width: 41.67%;\\n        }\"]\n    });\n  }\n  return ViewPatientComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}