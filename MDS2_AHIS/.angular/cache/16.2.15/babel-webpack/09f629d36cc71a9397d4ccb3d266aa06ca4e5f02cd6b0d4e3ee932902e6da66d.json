{"ast":null,"code":"/**\n * @author Alicia Quek Chik Wen <aque0004@student.monash.edu>\n * @author Foo Kai Yan 33085625 <kfoo0012@student.monash.edu>\n *\n * Alicia responsible for backend\n * Kai Yan responsible for frontend\n */\nimport { inject } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { comfirmPasswordValidator } from '../../../app/validators/comfirm.password.validator';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/database.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction RegisterComponent_span_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \"*First name is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \"*Last name is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \"*Email is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \"*Email is Invalid\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \"*Username is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \"*Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \"*Comfirm Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_span_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 24);\n    i0.ɵɵtext(1, \"*Password doesn't matched!\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = \"*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;height:100vh;background:url(https://img.freepik.com/free-photo/medicine-blue-background-flat-lay_23-2149341573.jpg) no-repeat center center fixed;background-size:cover;display:flex;justify-content:center;align-items:center}.register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.register-box[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);padding:40px;border-radius:10px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:0 10px 25px #0000004d;text-align:center;width:350px}h2[_ngcontent-%COMP%]{margin-bottom:20px;color:#fff;font-size:24px;font-weight:600}.input-group[_ngcontent-%COMP%]{margin-bottom:15px;text-align:left}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin-bottom:5px;display:block}.required[_ngcontent-%COMP%]{color:red;font-size:14px;display:block}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:5px;outline:none;background-color:#fffc}.register-btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#e35b20;border:none;border-radius:5px;color:#fff;font-size:16px;cursor:pointer;transition:background-color .3s ease}.register-btn[_ngcontent-%COMP%]:hover{background-color:#d44a18}.login-link[_ngcontent-%COMP%]{margin-top:15px;font-size:14px;color:#fff}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:underline}.login-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}\";\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    /**\n     * The constructor of this component has three dependencies: the DatabaseService, the ActivatedRoute, and the Router\n     * @param dbService Service used to fetch and manage data from the database\n     * @param router Service used for navigation between components/pages\n     * @param route Provides information about the current route in the application\n     */\n    constructor(dbService, router, route) {\n      this.dbService = dbService;\n      this.router = router;\n      this.route = route;\n      this.fb = inject(FormBuilder);\n    }\n    ngOnInit() {\n      this.registerForm = this.fb.group({\n        userFirstName: ['', Validators.required],\n        userLastName: ['', Validators.required],\n        username: ['', Validators.required],\n        userEmail: ['', Validators.compose([Validators.required, Validators.email])],\n        password: ['', Validators.required],\n        comfirmPassword: ['', Validators.required],\n        role: ['Admin']\n      }, {\n        validator: comfirmPasswordValidator('password', 'comfirmPassword')\n      });\n    }\n    /**\n     * @function register function passes register object to the service to be sent to the server via a post request.\n     * @summary A register object is created based on the form inputs and is submitted to be stored in the MongoDB database.\n     * @description onSubmit is triggered when the html form is submitted and the register object is created and sent to the DatabaseService to add it to the MongoDB database.\n    */\n    register() {\n      console.log(this.registerForm.value);\n      this.dbService.registerService(this.registerForm.value).subscribe({\n        // uses the router service to redirect the client to another component. \n        // In other words, replace the current component with another one.\n        next: result => {\n          alert(\"User Created!\");\n          this.registerForm.reset();\n          this.router.navigate([\"/login\"]);\n        },\n        error: error => {\n          console.log('Error:', error);\n          alert(\"Register Failed! Try again!\");\n          this.router.navigate([\"/register\"]);\n        }\n      });\n    }\n    static #_ = this.ɵfac = function RegisterComponent_Factory(t) {\n      return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.DatabaseService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RegisterComponent,\n      selectors: [[\"app-register\"]],\n      decls: 56,\n      vars: 12,\n      consts: [[\"lang\", \"en\"], [\"charset\", \"UTF-8\"], [\"name\", \"viewport\", \"content\", \"width=device-width, initial-scale=1.0\"], [1, \"register-container\"], [1, \"register-box\"], [\"action\", \"login.component.html\", \"method\", \"post\", 3, \"formGroup\"], [1, \"input-group\"], [\"for\", \"firstname\"], [\"formControlName\", \"userFirstName\", \"type\", \"text\", \"id\", \"firstname\", \"name\", \"firstname\", \"required\", \"\", \"placeholder\", \"Enter First Name\"], [\"class\", \"required\", 4, \"ngIf\"], [\"for\", \"lastname\"], [\"formControlName\", \"userLastName\", \"type\", \"text\", \"id\", \"lastname\", \"name\", \"lastname\", \"required\", \"\", \"placeholder\", \"Enter Last Name\"], [\"for\", \"email\"], [\"formControlName\", \"userEmail\", \"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"required\", \"\", \"placeholder\", \"Enter Email\"], [\"for\", \"username\"], [\"formControlName\", \"username\", \"type\", \"username\", \"id\", \"username\", \"name\", \"username\", \"required\", \"\", \"placeholder\", \"Enter Username\"], [\"for\", \"password\"], [\"formControlName\", \"password\", \"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", \"placeholder\", \"Enter Password\"], [\"formControlName\", \"comfirmPassword\", \"type\", \"password\", \"id\", \"comfirmPassword\", \"name\", \"comfirmPassword\", \"required\", \"\", \"placeholder\", \"Comfirm password\"], [1, \"register-btn\", 3, \"disabled\", \"click\"], [1, \"login-link\"], [2, \"color\", \"white\"], [\"routerLink\", \"/login\", 2, \"color\", \"#e35b20\"], [\"href\", \"login.component.html\", 2, \"color\", \"#e35b20\"], [1, \"required\"]],\n      template: function RegisterComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"html\", 0)(1, \"head\");\n          i0.ɵɵelement(2, \"meta\", 1)(3, \"meta\", 2);\n          i0.ɵɵelementStart(4, \"title\");\n          i0.ɵɵtext(5, \"Register Page\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"body\")(7, \"div\", 3)(8, \"div\", 4)(9, \"h2\");\n          i0.ɵɵtext(10, \"REGISTER\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"form\", 5)(12, \"div\", 6)(13, \"label\", 7);\n          i0.ɵɵtext(14, \"First Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(15, \"input\", 8);\n          i0.ɵɵtemplate(16, RegisterComponent_span_16_Template, 2, 0, \"span\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"div\", 6)(18, \"label\", 10);\n          i0.ɵɵtext(19, \"Last Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(20, \"input\", 11);\n          i0.ɵɵtemplate(21, RegisterComponent_span_21_Template, 2, 0, \"span\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"div\", 6)(23, \"label\", 12);\n          i0.ɵɵtext(24, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(25, \"input\", 13);\n          i0.ɵɵtemplate(26, RegisterComponent_span_26_Template, 2, 0, \"span\", 9);\n          i0.ɵɵtemplate(27, RegisterComponent_span_27_Template, 2, 0, \"span\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"div\", 6)(29, \"label\", 14);\n          i0.ɵɵtext(30, \"Username\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(31, \"input\", 15);\n          i0.ɵɵtemplate(32, RegisterComponent_span_32_Template, 2, 0, \"span\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"div\", 6)(34, \"label\", 16);\n          i0.ɵɵtext(35, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(36, \"input\", 17);\n          i0.ɵɵtemplate(37, RegisterComponent_span_37_Template, 2, 0, \"span\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"div\", 6)(39, \"label\", 16);\n          i0.ɵɵtext(40, \"Comfirm Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(41, \"input\", 18);\n          i0.ɵɵtemplate(42, RegisterComponent_span_42_Template, 2, 0, \"span\", 9);\n          i0.ɵɵtemplate(43, RegisterComponent_span_43_Template, 2, 0, \"span\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"button\", 19);\n          i0.ɵɵlistener(\"click\", function RegisterComponent_Template_button_click_44_listener() {\n            return ctx.register();\n          });\n          i0.ɵɵtext(45, \"Register\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(46, \"div\", 20);\n          i0.ɵɵtext(47, \"\\n<<<<<<< HEAD \");\n          i0.ɵɵelementStart(48, \"p\", 21);\n          i0.ɵɵtext(49, \"Already have an account? \");\n          i0.ɵɵelementStart(50, \"a\", 22);\n          i0.ɵɵtext(51, \"Login here\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtext(52, \"\\n======= \");\n          i0.ɵɵelementStart(53, \"a\", 23);\n          i0.ɵɵtext(54, \"Login here\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(55, \"\\n>>>>>>> a5ecc76caa6f9d18da73b33475889f0efdde50dc \");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"formGroup\", ctx.registerForm);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.registerForm.hasError(\"required\", \"userFirstName\") && ctx.registerForm.controls[\"userFirstName\"].dirty);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.registerForm.hasError(\"required\", \"userLastName\") && ctx.registerForm.controls[\"userLastName\"].dirty);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.registerForm.hasError(\"required\", \"userEmail\") && ctx.registerForm.controls[\"userEmail\"].dirty);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.registerForm.hasError(\"email\", \"userEmail\"));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.registerForm.hasError(\"required\", \"username\") && ctx.registerForm.controls[\"username\"].dirty);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.registerForm.hasError(\"required\", \"password\") && ctx.registerForm.controls[\"password\"].dirty);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.registerForm.hasError(\"required\", \"comfirmPassword\") && ctx.registerForm.controls[\"comfirmPassword\"].dirty);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.registerForm.hasError(\"comfirmPasswordValidator\", \"comfirmPassword\"));\n          i0.ɵɵadvance(1);\n          i0.ɵɵclassProp(\"disabled\", ctx.registerForm.invalid);\n          i0.ɵɵproperty(\"disabled\", ctx.registerForm.invalid);\n        }\n      },\n      dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i2.RouterLink, i4.FormGroupDirective, i4.FormControlName],\n      styles: [_c0, _c0]\n    });\n  }\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}